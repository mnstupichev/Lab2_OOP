using InventorySystem.Core.Interfaces;

namespace InventorySystem.Strategies;

/// <summary>
/// Паттерн STRATEGY для использования предметов.
/// 
/// КОГДА ИСПОЛЬЗОВАТЬ STRATEGY для использования предметов:
/// 
/// 1. ОДИН ПРЕДМЕТ - РАЗНЫЕ СПОСОБЫ ИСПОЛЬЗОВАНИЯ:
///    - Зелье можно выпить (восстановить здоровье) ИЛИ вылить на врага (нанести урон)
///    - Свиток можно прочитать (применить эффект) ИЛИ продать (получить золото)
///    - Оружие можно экипировать ИЛИ использовать как материал для крафта
/// 
/// 2. РАЗНЫЕ КОНТЕКСТЫ ИСПОЛЬЗОВАНИЯ:
///    - В бою: зелье восстанавливает меньше здоровья, но быстрее
///    - Вне боя: зелье восстанавливает больше здоровья, но медленнее
///    - В инвентаре: простое использование
///    - В магазине: можно продать предмет
/// 
/// 3. ДИНАМИЧЕСКОЕ ИЗМЕНЕНИЕ ПОВЕДЕНИЯ:
///    - В зависимости от уровня персонажа предметы работают по-разному
///    - В зависимости от навыков персонажа предметы дают разные эффекты
/// 
/// КОГДА ТЕКУЩИЙ ПОДХОД (ИНТЕРФЕЙСЫ) ЛУЧШЕ:
/// 
/// 1. КАЖДЫЙ ПРЕДМЕТ ИМЕЕТ ОДИН СПОСОБ ИСПОЛЬЗОВАНИЯ:
///    - Еда всегда съедается (восстанавливает здоровье)
///    - Оружие всегда экипируется
///    - Квестовый предмет нельзя использовать
/// 
/// 2. ПОВЕДЕНИЕ ЗАВИСИТ ОТ ТИПА ПРЕДМЕТА, А НЕ ОТ КОНТЕКСТА:
///    - Potion.Use() всегда восстанавливает здоровье
///    - Weapon.Equip() всегда экипирует оружие
/// 
/// ВЫВОД:
/// Strategy полезен, когда ОДИН предмет может использоваться ПО-РАЗНОМУ
/// в зависимости от контекста или выбора игрока.
/// 
/// Текущий подход с интерфейсами лучше, когда каждый предмет имеет
/// ОДИН четко определенный способ использования.
/// </summary>
public interface IItemUsageStrategy
{
    /// <summary>
    /// Можно ли использовать предмет этим способом
    /// </summary>
    bool CanUse(IItem item);
    
    /// <summary>
    /// Использовать предмет этим способом
    /// </summary>
    UseResult Use(IItem item);
    
    /// <summary>
    /// Название стратегии использования
    /// </summary>
    string StrategyName { get; }
}
